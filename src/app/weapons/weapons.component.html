<!-- weapons.component.html -->

<!-- weapons.component.html -->

<div class="sect_principal">
    <div class="container_weapons" *ngIf="dataWeapons">
        <div class="file_1 SIDEARM">
            <div class="lap1">
                <h2>SIDEARM</h2>
                <div *ngFor="let weapon of dataWeapons.data" class="lap2">
                    <div *ngIf="weapon.category === 'EEquippableCategory::Sidearm'" class="weapon-card"
                        id="{{ weapon.uuid }}" (click)="weaponUUID(weapon.uuid)">
                        <img src="{{ weapon.killStreamIcon }}" alt="">
                        <div class="Name_pr">
                            <h3 class="h4_primary">{{ weapon.displayName }}</h3>
                            <h5>${{ weapon.shopData.cost }}</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="file_2 cont_dive">
            <div class="lap1">
                <h2>SMGS</h2>
                <div *ngFor="let weapon of dataWeapons.data" class="lap2">
                    <div *ngIf="weapon.category === 'EEquippableCategory::SMG'" class="weapon-card"
                        id="{{ weapon.uuid }}" (click)="weaponUUID(weapon.uuid)">
                        <img src="{{ weapon.killStreamIcon }}" alt="">
                        <div class="Name_pr">
                            <h3 class="h4_primary">{{ weapon.displayName }}</h3>
                            <h5>${{ weapon.shopData.cost }}</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="lap1" id="margin_top">
                <h2>SHOTGUNS</h2>
                <div *ngFor="let weapon of dataWeapons.data" class="lap2">
                    <div *ngIf="weapon.category === 'EEquippableCategory::Shotgun'" class="weapon-card"
                        id="{{ weapon.uuid }}" (click)="weaponUUID(weapon.uuid)">
                        <img src="{{ weapon.killStreamIcon }}" alt="">
                        <div class="Name_pr">
                            <h3 class="h4_primary">{{ weapon.displayName }}</h3>
                            <h5>${{ weapon.shopData.cost }}</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="file_3 RIFLES">
            <div class="lap1">
                <h2>RIFLES</h2>
                <div *ngFor="let weapon of dataWeapons.data" class="lap2">
                    <div *ngIf="weapon.category === 'EEquippableCategory::Rifle'" class="weapon-card"
                        id="{{ weapon.uuid }}" (click)="weaponUUID(weapon.uuid)">
                        <img src="{{ weapon.killStreamIcon }}" alt="">
                        <div class="Name_pr">
                            <h3 class="h4_primary">{{ weapon.displayName }}</h3>
                            <h5>${{ weapon.shopData.cost }}</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="file_4 cont_dive">
            <div class="lap1 overflow">
                <h2>SNIPER</h2>
                <div *ngFor="let weapon of dataWeapons.data" class="lap2">
                    <div *ngIf="weapon.category === 'EEquippableCategory::Sniper'" class="weapon-card"
                        id="{{ weapon.uuid }}" (click)="weaponUUID(weapon.uuid)">
                        <img src="{{ weapon.killStreamIcon }}" alt="">
                        <div class="Name_pr">
                            <h3 class="h4_primary">{{ weapon.displayName }}</h3>
                            <h5>${{ weapon.shopData.cost }}</h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="lap1" id="margin_top">
                <h2>RIFLES</h2>
                <div *ngFor="let weapon of dataWeapons.data" class="lap2">
                    <div *ngIf="weapon.category === 'EEquippableCategory::Heavy'" class="weapon-card"
                        id="{{ weapon.uuid }}" (click)="weaponUUID(weapon.uuid)">
                        <img src="{{ weapon.killStreamIcon }}" alt="">
                        <div class="Name_pr">
                            <h3 class="h4_primary">{{ weapon.displayName }}</h3>
                            <h5>${{ weapon.shopData.cost }}</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="file_5 MEELE"></div>
    </div>

    <div class="preview_weapons">
        <div *ngIf="uuidWeapon" class="weapon-card">
            <div class="block_image">
                <img [src]="getSelectedWeapon()?.displayIcon" alt="">
            </div>
            <div class="category_weapons">
                <div class="h4_primary">{{ getSelectedWeapon()?.displayName }}</div>
                <div class="element_space">
                    <span>Cost:$</span>
                    <span>{{ getSelectedWeapon()?.shopData.cost }}</span>
                </div>
                <div class="element_space">
                    <span>Megazine:</span>
                    <span>{{ getSelectedWeapon()?.weaponStats.magazineSize}}</span>
                </div>
                <div class="element_space">
                    <span>Fire Rate:</span>
                    <span>{{ getSelectedWeapon()?.weaponStats.fireRate}}</span>
                </div>
                <div class="element_space">
                    <span>Reload:</span>
                    <span>{{ getSelectedWeapon()?.weaponStats.reloadTimeSeconds}}</span>
                </div>
                <div class="element_space">
                    <span>Penetration:</span>
                    <span>{{ getSelectedWeapon()?.weaponStats.wallPenetration.split('::').pop()}}</span>
                </div>
            </div>

            <h3 class="damage">Damage:</h3>
            <div class="element_damage">
                <!-- Columna para Rango -->
                <div>
                    <h3>Range</h3>
                    <ng-container *ngFor="let range of getSelectedWeapon()?.weaponStats.damageRanges.slice(0, 2); let i = index">
                        <div>{{ range.rangeStartMeters.toString().slice(0, 2) }}</div>
                    </ng-container>
                </div>
            
                <!-- Columna para Head Damage -->
                <div>
                    <h3>Head</h3>
                    <ng-container *ngFor="let range of getSelectedWeapon()?.weaponStats.damageRanges.slice(0, 2); let i = index">
                        <div>{{ range.headDamage.toString().slice(0, 2) }}</div>
                    </ng-container>
                </div>
            
                <!-- Columna para Body Damage -->
                <div>
                    <h3>Body</h3>
                    <ng-container *ngFor="let range of getSelectedWeapon()?.weaponStats.damageRanges.slice(0, 2); let i = index">
                        <div>{{ range.bodyDamage.toString().slice(0, 2) }}</div>
                    </ng-container>
                </div>
            
                <!-- Columna para Leg Damage -->
                <div>
                    <h3>Leg</h3>
                    <ng-container *ngFor="let range of getSelectedWeapon()?.weaponStats.damageRanges.slice(0, 2); let i = index">
                        <div>{{ range.legDamage.toString().slice(0, 2) }}</div>
                    </ng-container>
                </div>
            </div>                        
        </div>
    </div>
</div>